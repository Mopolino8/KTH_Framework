<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>KTH framework for Nek5000 toolboxes; testing version: History points driver for toolboxes.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KTH framework for Nek5000 toolboxes; testing version
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__pts.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">History points driver for toolboxes.<div class="ingroups"><a class="el" href="group__toolbox.html">Toolbox</a> &raquo; <a class="el" href="group__driver.html">Driver modules for KTH nek5000 platform</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>History points/particles driver.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for History points driver for toolboxes.:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__pts.png" border="0" alt="" usemap="#group____pts"/>
<map name="group____pts" id="group____pts">
<area shape="rect" id="node2" href="group__driver.html" title="Driver routines for KHT toolboxes. " alt="" coords="5,5,163,47"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:pts__redistribute_8f"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pts__redistribute_8f.html">pts_redistribute.f</a></td></tr>
<tr class="memdesc:pts__redistribute_8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of subroutines to redistribute pionts among processors according to point-element map. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2cf3ce0242552490651de969fdd5a550"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pts.html#ga2cf3ce0242552490651de969fdd5a550">pts_timing</a> (nptimb, urbuf, lurbuf, lpbuf, ifutrans)</td></tr>
<tr class="memdesc:ga2cf3ce0242552490651de969fdd5a550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Point redistribution timing.  <a href="#ga2cf3ce0242552490651de969fdd5a550">More...</a><br /></td></tr>
<tr class="separator:ga2cf3ce0242552490651de969fdd5a550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d6b98a61acebdfeef2a1f23bc11286d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pts.html#ga5d6b98a61acebdfeef2a1f23bc11286d">pts_rdst</a> (nptimb, urbuf, lurbuf, lpbuf, ifutrans)</td></tr>
<tr class="memdesc:ga5d6b98a61acebdfeef2a1f23bc11286d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redistribute points.  <a href="#ga5d6b98a61acebdfeef2a1f23bc11286d">More...</a><br /></td></tr>
<tr class="separator:ga5d6b98a61acebdfeef2a1f23bc11286d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee86e081cba918c5dad92c606f63ce3d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pts.html#gaee86e081cba918c5dad92c606f63ce3d">pts_transfer</a> (rbuf, lrbuf, ibuf, libuf, lpts, <a class="el" href="vtk__interface_8c.html#a0306378cd06415f84b10cb3d15516ec3">npts</a>)</td></tr>
<tr class="memdesc:gaee86e081cba918c5dad92c606f63ce3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Point data transfer.  <a href="#gaee86e081cba918c5dad92c606f63ce3d">More...</a><br /></td></tr>
<tr class="separator:gaee86e081cba918c5dad92c606f63ce3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbb3793e4432fc05d7d79fd238031e43"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pts.html#gadbb3793e4432fc05d7d79fd238031e43">pts_map_all</a> (mid, lpts, <a class="el" href="vtk__interface_8c.html#a0306378cd06415f84b10cb3d15516ec3">npts</a>, npoints, nptimb)</td></tr>
<tr class="memdesc:gadbb3793e4432fc05d7d79fd238031e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Point-process mapping.  <a href="#gadbb3793e4432fc05d7d79fd238031e43">More...</a><br /></td></tr>
<tr class="separator:gadbb3793e4432fc05d7d79fd238031e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49ab7666f657f9bf235511a423cd74fd"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pts.html#ga49ab7666f657f9bf235511a423cd74fd">pts_map_set</a> (mid, lpts, istatus, indasg, npts_plist, lplist, <a class="el" href="vtk__interface_8c.html#a0306378cd06415f84b10cb3d15516ec3">npts</a>, nplist)</td></tr>
<tr class="memdesc:ga49ab7666f657f9bf235511a423cd74fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Point-process mapping for given process set.  <a href="#ga49ab7666f657f9bf235511a423cd74fd">More...</a><br /></td></tr>
<tr class="separator:ga49ab7666f657f9bf235511a423cd74fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>History points/particles driver. </p>
<p>Set of subroutines to work with hpts interpolation routines from Nek5000. Using defined (relatively big) set of points in the domain it allows to redistribute them among processors according to point-to-element mapping and retrive set of variables using spectral interpolation (hpts routines).</p>
<dl class="section user"><dt>Module interface:</dt><dd>This module provides following interface:<ol type="1">
<li>pts_timing</li>
<li>pts_rdst</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Module memory structures:</dt><dd>This module provides following variables:<ol type="1">
<li>pts_crd(LDIM,LHIS) - (real) point coordinates</li>
<li>pts_npts - (integer) local number of points</li>
<li>pts_npoints - (integer) global number of points</li>
<li>pts_ihpts - (integer) findpts_setup handle</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Module interface usage:</dt><dd><div class="fragment"><div class="line"><span class="keyword">      subroutine </span><a class="code" href="postnek9_8f.html#a0122af094b81b39ee04eeac13f2837d2">userchk</a></div><div class="line">      include <span class="stringliteral">&#39;SIZE&#39;</span></div><div class="line">      <span class="keywordtype">real</span> ubuffer(2,lhis)</div><div class="line"></div><div class="line"><span class="comment">!     pts timing and redistribute</span></div><div class="line">      <span class="keyword">call </span><a class="code" href="group__pts.html#ga2cf3ce0242552490651de969fdd5a550">pts_timing</a>(nptimb,ubuffer,2,lhis,.true.)</div><div class="line"></div><div class="line">      <span class="keywordflow">return</span></div><div class="line"><span class="keyword">      end</span></div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="keyword">      subroutine </span><a class="code" href="postnek9_8f.html#a0122af094b81b39ee04eeac13f2837d2">userchk</a></div><div class="line">      include <span class="stringliteral">&#39;SIZE&#39;</span></div><div class="line">      <span class="keywordtype">real</span> ubuffer(2,lhis)</div><div class="line"></div><div class="line"><span class="comment">!     main pts interface; point redistribute</span></div><div class="line">      <span class="keyword">call </span><a class="code" href="group__pts.html#ga5d6b98a61acebdfeef2a1f23bc11286d">pts_rdst</a>(nptimb,ubuffer,2,lhis,.true.)</div><div class="line"></div><div class="line">      <span class="keywordflow">return</span></div><div class="line"><span class="keyword">      end</span></div></div><!-- fragment --></dd></dl>
<dl class="section note"><dt>Note</dt><dd>This vesion of the code does not work for number of processors bigger than 2*LX1*LY1*LZ1*LELT.</dd>
<dd>
Check PTSD include file for definition of memeory structures provided by this module.</dd>
<dd>
This module requres findpts_setup to be executed before any of the module routines would be called.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>This vesion of the code does not take into account error code rcode. This shuld be added later.</dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gadbb3793e4432fc05d7d79fd238031e43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pts_map_all </td>
          <td>(</td>
          <td class="paramtype">integer, dimension(lpts)&#160;</td>
          <td class="paramname"><em>mid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>lpts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>npts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>npoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nptimb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Point-process mapping. </p>
<p>Genereate point-process mapping for point redistribution. This routine leaves local number of points npts unchanged. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mid</td><td>target proc id; global ordering </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpts</td><td>array size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">npts</td><td>local number of points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">npoints</td><td>global number of points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nptimb</td><td>max allowed imbalance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This routine uses global scratch space SCRVH </dd></dl>

<p>Definition at line <a class="el" href="pts__redistribute_8f_source.html#l00371">371</a> of file <a class="el" href="pts__redistribute_8f_source.html">pts_redistribute.f</a>.</p>

<p>References <a class="el" href="comm__mpi_8f_source.html#l00521">exitt()</a>, <a class="el" href="cvode__aux_8h_source.html#l00009">lelt</a>, <a class="el" href="cvode__aux_8h_source.html#l00009">ly1</a>, <a class="el" href="cvode__aux_8h_source.html#l00009">lz1</a>, <a class="el" href="comm__mpi_8f_source.html#l00412">nekgsync()</a>, <a class="el" href="vtk__interface_8c_source.html#l00037">npts</a>, and <a class="el" href="pts__redistribute_8f_source.html#l00599">pts_map_set()</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__pts_gadbb3793e4432fc05d7d79fd238031e43_cgraph.png" border="0" usemap="#group__pts_gadbb3793e4432fc05d7d79fd238031e43_cgraph" alt=""/></div>
<map name="group__pts_gadbb3793e4432fc05d7d79fd238031e43_cgraph" id="group__pts_gadbb3793e4432fc05d7d79fd238031e43_cgraph">
<area shape="rect" id="node2" href="core_2byte_8c.html#a2da8eeb074dfd3ffbfb3e9a4d301cda4" title="exitt" alt="" coords="329,56,375,83"/>
<area shape="rect" id="node3" href="comm__mpi_8f.html#a4acb4d8e379294232e9219bec063d8f3" title="nekgsync" alt="" coords="155,5,233,32"/>
<area shape="rect" id="node5" href="group__pts.html#ga49ab7666f657f9bf235511a423cd74fd" title="Point&#45;process mapping for given process set. " alt="" coords="145,132,243,159"/>
<area shape="rect" id="node4" href="mpi__dummy_8f.html#a070afe564196eb48413dbf1a9fbc99aa" title="mpi_barrier" alt="" coords="309,5,395,32"/>
<area shape="rect" id="node6" href="math_8f.html#a943dc1fc319c98267fac3af1e8010e9a" title="izero" alt="" coords="327,208,377,235"/>
<area shape="rect" id="node7" href="group__comm__mpi.html#gaa874f854a835ed70cff06e0bf8cf26d2" title="Global MPI scan for integer array. " alt="" coords="291,107,413,133"/>
<area shape="rect" id="node9" href="math_8f.html#a1e85d2406444243269f0d85c61a02dce" title="icopy" alt="" coords="592,183,645,209"/>
<area shape="rect" id="node10" href="group__comm__mpi.html#gaa226e6a129355dea6b72895424241dc2" title="Broadcast integer array from specified process. " alt="" coords="320,157,384,184"/>
<area shape="rect" id="node8" href="mpi__dummy_8f.html#a360ea2d5368e0651d29945de0f055d09" title="mpi_scan" alt="" coords="463,107,542,133"/>
<area shape="rect" id="node11" href="mpi__dummy_8f.html#ae0bd4baaea848988f45664ce0de33350" title="mpi_bcast" alt="" coords="461,157,544,184"/>
</map>
</div>
</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__pts_gadbb3793e4432fc05d7d79fd238031e43_icgraph.png" border="0" usemap="#group__pts_gadbb3793e4432fc05d7d79fd238031e43_icgraph" alt=""/></div>
<map name="group__pts_gadbb3793e4432fc05d7d79fd238031e43_icgraph" id="group__pts_gadbb3793e4432fc05d7d79fd238031e43_icgraph">
<area shape="rect" id="node2" href="group__pts.html#ga5d6b98a61acebdfeef2a1f23bc11286d" title="Redistribute points. " alt="" coords="145,5,215,32"/>
<area shape="rect" id="node3" href="group__pts.html#ga2cf3ce0242552490651de969fdd5a550" title="Point redistribution timing. " alt="" coords="263,5,345,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga49ab7666f657f9bf235511a423cd74fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pts_map_set </td>
          <td>(</td>
          <td class="paramtype">integer, dimension(lpts)&#160;</td>
          <td class="paramname"><em>mid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>lpts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>istatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>indasg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(lplist)&#160;</td>
          <td class="paramname"><em>npts_plist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>lplist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>npts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nplist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Point-process mapping for given process set. </p>
<p>Genereate point-process mapping for point redistribution for given process set. This routine leaves local number of points npts unchanged. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mid</td><td>target proc id; global ordering </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpts</td><td>mid array size </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">istatus</td><td>node status </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">indasg</td><td>number of points asigned to the node </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">npts_plist</td><td>list of processors used </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lplist</td><td>npts_plist array size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">npts</td><td>local number of points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nplist</td><td>number of processors in the list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This routine uses global scratch space SCRCH, SCREV, CTMP0, CTMP1, SCRSF </dd></dl>

<p>Definition at line <a class="el" href="pts__redistribute_8f_source.html#l00599">599</a> of file <a class="el" href="pts__redistribute_8f_source.html">pts_redistribute.f</a>.</p>

<p>References <a class="el" href="comm__mpi_8f_source.html#l00521">exitt()</a>, <a class="el" href="comm__mpi__wrp_8f_source.html#l00044">ibcastn()</a>, <a class="el" href="math_8f_source.html#l00444">icopy()</a>, <a class="el" href="comm__mpi__wrp_8f_source.html#l00017">ivgl_running_sum()</a>, <a class="el" href="math_8f_source.html#l00377">izero()</a>, <a class="el" href="cvode__aux_8h_source.html#l00009">lelt</a>, <a class="el" href="cvode__aux_8h_source.html#l00009">ly1</a>, and <a class="el" href="cvode__aux_8h_source.html#l00009">lz1</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__pts_ga49ab7666f657f9bf235511a423cd74fd_cgraph.png" border="0" usemap="#group__pts_ga49ab7666f657f9bf235511a423cd74fd_cgraph" alt=""/></div>
<map name="group__pts_ga49ab7666f657f9bf235511a423cd74fd_cgraph" id="group__pts_ga49ab7666f657f9bf235511a423cd74fd_cgraph">
<area shape="rect" id="node2" href="core_2byte_8c.html#a2da8eeb074dfd3ffbfb3e9a4d301cda4" title="exitt" alt="" coords="189,5,235,32"/>
<area shape="rect" id="node3" href="group__comm__mpi.html#gaa226e6a129355dea6b72895424241dc2" title="Broadcast integer array from specified process. " alt="" coords="180,56,244,83"/>
<area shape="rect" id="node5" href="math_8f.html#a1e85d2406444243269f0d85c61a02dce" title="icopy" alt="" coords="455,107,509,133"/>
<area shape="rect" id="node6" href="group__comm__mpi.html#gaa874f854a835ed70cff06e0bf8cf26d2" title="Global MPI scan for integer array. " alt="" coords="151,157,273,184"/>
<area shape="rect" id="node11" href="math_8f.html#a943dc1fc319c98267fac3af1e8010e9a" title="izero" alt="" coords="187,208,237,235"/>
<area shape="rect" id="node4" href="mpi__dummy_8f.html#ae0bd4baaea848988f45664ce0de33350" title="mpi_bcast" alt="" coords="321,56,404,83"/>
<area shape="rect" id="node7" href="mpi__dummy_8f.html#a360ea2d5368e0651d29945de0f055d09" title="mpi_scan" alt="" coords="323,157,402,184"/>
<area shape="rect" id="node8" href="math_8f.html#a3b43508554f14bdea8e14473d7d0803c" title="copy" alt="" coords="457,157,507,184"/>
<area shape="rect" id="node9" href="math_8f.html#ae440982936535b602f42ea90d02b94d9" title="i8copy" alt="" coords="452,208,512,235"/>
<area shape="rect" id="node10" href="math_8f.html#a4052b45630e3d7ac3a9b01c8c11a498a" title="rrcopy" alt="" coords="453,259,511,285"/>
</map>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__pts_ga49ab7666f657f9bf235511a423cd74fd_icgraph.png" border="0" usemap="#group__pts_ga49ab7666f657f9bf235511a423cd74fd_icgraph" alt=""/></div>
<map name="group__pts_ga49ab7666f657f9bf235511a423cd74fd_icgraph" id="group__pts_ga49ab7666f657f9bf235511a423cd74fd_icgraph">
<area shape="rect" id="node2" href="group__pts.html#gadbb3793e4432fc05d7d79fd238031e43" title="Point&#45;process mapping. " alt="" coords="151,5,243,32"/>
<area shape="rect" id="node3" href="group__pts.html#ga5d6b98a61acebdfeef2a1f23bc11286d" title="Redistribute points. " alt="" coords="291,5,360,32"/>
<area shape="rect" id="node4" href="group__pts.html#ga2cf3ce0242552490651de969fdd5a550" title="Point redistribution timing. " alt="" coords="408,5,491,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5d6b98a61acebdfeef2a1f23bc11286d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pts_rdst </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nptimb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gs__test__old_8c.html#aaf408a80c3d053d3373d213af13efbe8">real</a>, dimension(lurbuf,lpbuf)&#160;</td>
          <td class="paramname"><em>urbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>lurbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>lpbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>ifutrans</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redistribute points. </p>
<p>Redistribute points according to point-to-element map. This routine assume findpts was alleready called and pts_proc array is filled. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nptimb</td><td>maximal allowed point imbalance </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">urbuf</td><td>user defined real buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lurbuf</td><td>number of real variables </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpbuf</td><td>buffer length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ifutrans</td><td>do we perform user buffer transfer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This routine uses global scratch space SCRMG, SCRNS </dd></dl>

<p>Definition at line <a class="el" href="pts__redistribute_8f_source.html#l00157">157</a> of file <a class="el" href="pts__redistribute_8f_source.html">pts_redistribute.f</a>.</p>

<p>References <a class="el" href="comm__mpi_8f_source.html#l00521">exitt()</a>, <a class="el" href="cvode__aux_8h_source.html#l00009">lelt</a>, <a class="el" href="cvode__aux_8h_source.html#l00009">ly1</a>, <a class="el" href="cvode__aux_8h_source.html#l00009">lz1</a>, <a class="el" href="pts__redistribute_8f_source.html#l00371">pts_map_all()</a>, and <a class="el" href="pts__redistribute_8f_source.html#l00304">pts_transfer()</a>.</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__pts_ga5d6b98a61acebdfeef2a1f23bc11286d_cgraph.png" border="0" usemap="#group__pts_ga5d6b98a61acebdfeef2a1f23bc11286d_cgraph" alt=""/></div>
<map name="group__pts_ga5d6b98a61acebdfeef2a1f23bc11286d_cgraph" id="group__pts_ga5d6b98a61acebdfeef2a1f23bc11286d_cgraph">
<area shape="rect" id="node2" href="core_2byte_8c.html#a2da8eeb074dfd3ffbfb3e9a4d301cda4" title="exitt" alt="" coords="446,5,493,32"/>
<area shape="rect" id="node3" href="group__pts.html#gadbb3793e4432fc05d7d79fd238031e43" title="Point&#45;process mapping. " alt="" coords="123,81,215,108"/>
<area shape="rect" id="node11" href="group__pts.html#gaee86e081cba918c5dad92c606f63ce3d" title="Point data transfer. " alt="" coords="123,132,214,159"/>
<area shape="rect" id="node4" href="comm__mpi_8f.html#a4acb4d8e379294232e9219bec063d8f3" title="nekgsync" alt="" coords="272,208,351,235"/>
<area shape="rect" id="node6" href="group__pts.html#ga49ab7666f657f9bf235511a423cd74fd" title="Point&#45;process mapping for given process set. " alt="" coords="263,107,360,133"/>
<area shape="rect" id="node5" href="mpi__dummy_8f.html#a070afe564196eb48413dbf1a9fbc99aa" title="mpi_barrier" alt="" coords="426,259,513,285"/>
<area shape="rect" id="node7" href="group__comm__mpi.html#gaa226e6a129355dea6b72895424241dc2" title="Broadcast integer array from specified process. " alt="" coords="437,107,501,133"/>
<area shape="rect" id="node8" href="math_8f.html#a1e85d2406444243269f0d85c61a02dce" title="icopy" alt="" coords="443,157,496,184"/>
<area shape="rect" id="node9" href="group__comm__mpi.html#gaa874f854a835ed70cff06e0bf8cf26d2" title="Global MPI scan for integer array. " alt="" coords="408,208,531,235"/>
<area shape="rect" id="node10" href="math_8f.html#a943dc1fc319c98267fac3af1e8010e9a" title="izero" alt="" coords="444,56,495,83"/>
</map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__pts_ga5d6b98a61acebdfeef2a1f23bc11286d_icgraph.png" border="0" usemap="#group__pts_ga5d6b98a61acebdfeef2a1f23bc11286d_icgraph" alt=""/></div>
<map name="group__pts_ga5d6b98a61acebdfeef2a1f23bc11286d_icgraph" id="group__pts_ga5d6b98a61acebdfeef2a1f23bc11286d_icgraph">
<area shape="rect" id="node2" href="group__pts.html#ga2cf3ce0242552490651de969fdd5a550" title="Point redistribution timing. " alt="" coords="123,5,205,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2cf3ce0242552490651de969fdd5a550"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pts_timing </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nptimb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gs__test__old_8c.html#aaf408a80c3d053d3373d213af13efbe8">real</a>, dimension(lurbuf,lpbuf)&#160;</td>
          <td class="paramname"><em>urbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>lurbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>lpbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>ifutrans</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Point redistribution timing. </p>
<p>Test interpolation time for single variable before and after point redistribution. This routine assumes physical point coordinates to be provided and stored in pts_crd declared in PTSD include file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nptimb</td><td>maximal allowed point imbalance </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">urbuf</td><td>user defined real buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lurbuf</td><td>number of real variables </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpbuf</td><td>buffer length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ifutrans</td><td>do we perform user buffer transfer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This routine perform interpolation of x velocity component for timing test. </dd></dl>

<p>Definition at line <a class="el" href="pts__redistribute_8f_source.html#l00021">21</a> of file <a class="el" href="pts__redistribute_8f_source.html">pts_redistribute.f</a>.</p>

<p>References <a class="el" href="findpts__imp_8h_source.html#l00028">findpts</a>, <a class="el" href="findpts__imp_8h_source.html#l00029">findpts_eval</a>, and <a class="el" href="pts__redistribute_8f_source.html#l00157">pts_rdst()</a>.</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__pts_ga2cf3ce0242552490651de969fdd5a550_cgraph.png" border="0" usemap="#group__pts_ga2cf3ce0242552490651de969fdd5a550_cgraph" alt=""/></div>
<map name="group__pts_ga2cf3ce0242552490651de969fdd5a550_cgraph" id="group__pts_ga2cf3ce0242552490651de969fdd5a550_cgraph">
<area shape="rect" id="node2" href="group__pts.html#ga5d6b98a61acebdfeef2a1f23bc11286d" title="Redistribute points. " alt="" coords="136,31,205,57"/>
<area shape="rect" id="node3" href="core_2byte_8c.html#a2da8eeb074dfd3ffbfb3e9a4d301cda4" title="exitt" alt="" coords="539,5,585,32"/>
<area shape="rect" id="node4" href="group__pts.html#gadbb3793e4432fc05d7d79fd238031e43" title="Point&#45;process mapping. " alt="" coords="253,31,345,57"/>
<area shape="rect" id="node7" href="group__pts.html#gaee86e081cba918c5dad92c606f63ce3d" title="Point data transfer. " alt="" coords="254,81,345,108"/>
<area shape="rect" id="node5" href="comm__mpi_8f.html#a4acb4d8e379294232e9219bec063d8f3" title="nekgsync" alt="" coords="403,56,481,83"/>
<area shape="rect" id="node6" href="group__pts.html#ga49ab7666f657f9bf235511a423cd74fd" title="Point&#45;process mapping for given process set. " alt="" coords="393,107,491,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaee86e081cba918c5dad92c606f63ce3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine pts_transfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gs__test__old_8c.html#aaf408a80c3d053d3373d213af13efbe8">real</a>, dimension(lrbuf,lpts)&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>lrbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(libuf,lpts)&#160;</td>
          <td class="paramname"><em>ibuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>libuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>lpts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>npts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Point data transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rbuf</td><td>real buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lrbuf</td><td>number of real variables </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ibuf</td><td>integer buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">libuf</td><td>number of integer variables </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpts</td><td>buffers length </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">npts</td><td>local number of points </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pts__redistribute_8f_source.html#l00304">304</a> of file <a class="el" href="pts__redistribute_8f_source.html">pts_redistribute.f</a>.</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__pts_gaee86e081cba918c5dad92c606f63ce3d_icgraph.png" border="0" usemap="#group__pts_gaee86e081cba918c5dad92c606f63ce3d_icgraph" alt=""/></div>
<map name="group__pts_gaee86e081cba918c5dad92c606f63ce3d_icgraph" id="group__pts_gaee86e081cba918c5dad92c606f63ce3d_icgraph">
<area shape="rect" id="node2" href="group__pts.html#ga5d6b98a61acebdfeef2a1f23bc11286d" title="Redistribute points. " alt="" coords="144,5,213,32"/>
<area shape="rect" id="node3" href="group__pts.html#ga2cf3ce0242552490651de969fdd5a550" title="Point redistribution timing. " alt="" coords="261,5,344,32"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jan 24 2017 16:27:17 for KTH framework for Nek5000 toolboxes; testing version by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
